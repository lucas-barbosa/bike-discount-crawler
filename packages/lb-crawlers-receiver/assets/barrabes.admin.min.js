!function(e){"use strict";e(document).ready(()=>{function t(t="",a="",b=""){let s=`<tr><td><input class="lb-weight-input" type="number" min="0" name="_min_weight[]" value="${t}"><span>gramas</span></td><td><b>at\xe9</b></td><td><input class="lb-weight-input" type="number" min="0" name="_max_weight[]" value="${a}"><span>gramas</span></td><td><b>EUR</b><input class="lb-weight-input" type="number" min="0" step="any" name="_min_price[]" value="${b}"></td><td><button class="lb-weight-delete" type="button">Deletar</button></tr>`;e("#lb-barrabes-weight-settings tbody").append(s)}e(document).on("click","#lb-barrabes-new-line",t),e(document).on("click",".lb-weight-delete",function t(){let a=e(this).parents("tr");a.remove()});let a=lb_barrabes_crawler.selected_categories;function b(t,b,s,r="",l="",i=!0){l||(l=b);let n=`<li><label id="lb-barrabes-item_${b}"><input type="checkbox" name="selected_barrabes_categories[]" value="${l}" ${l&&a.includes(l)?"checked":""} ${i?'class="lb-barrabes-title"':""}>${s} ${i?'<button class="lb-barrabes-toggle" type="button">Exibir/Ocultar</button>':""} ${i?'<ul class="lb-barrabes-subitems"></ul>':""}</label></li>`;e(`${t} ${r}`).append(n)}let s=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");function r(t,a,r){if(t){let l=Object.keys(t);if(!l.length){e(r).prop("disabled",!0);return}let i=1===l.length;l.map(e=>{let r=s(e),l=Object.keys(t[e]);if(!l.length)return"";i||b(a,r,e),l.map(l=>{let n=`${r}-${s(l)}`,m=t[e][l].url,u=t[e][l].items;if(!Array.isArray(u)){let c=Object.keys(u);return b(a,n,l,i?"":`#lb-barrabes-item_${r} > .lb-barrabes-subitems`,c.length?"":m,c.length>0),c.map(e=>{let t=`${n}-${s(e)}`,r=u[e],l=r.items;b(a,t,e,`#lb-barrabes-item_${n} > .lb-barrabes-subitems`,l.length?"":r.url,l.length>0),l.map(e=>{let r=`${t}-${s(e.name)}`;b(a,r,e.name,`#lb-barrabes-item_${t} > .lb-barrabes-subitems`,e.url,!1)})}),l}b(a,n,l,i?"":`#lb-barrabes-item_${r} > .lb-barrabes-subitems`,u.length?"":m,u.length>0),u.map(e=>{let t=`${n}-${s(e.name)}`;b(a,t,e.name,`#lb-barrabes-item_${n} > .lb-barrabes-subitems`,e.items?"":e.url,!!e.items),e.items&&e.items.map(e=>{let r=`${t}-${s(e.name)}`;b(a,r,e.name,`#lb-barrabes-item_${t} > .lb-barrabes-subitems`,e.url,!1)})})})}),e(".lb-barrabes-subitems").slideUp()}else e(r).prop("disabled",!0)}!function e(){if(lb_barrabes_crawler&&lb_barrabes_crawler.weight_settings){if(0===lb_barrabes_crawler.weight_settings.length){t();return}lb_barrabes_crawler.weight_settings.map(e=>t(e.min_weight,e.max_weight,e.min_price))}}(),r(lb_barrabes_crawler.barrabes_categories,"#lb-barrabes-available-categories","#lb-barrabes-save-categories"),r(lb_barrabes_crawler.pro_categories,"#lb-barrabes-pro-available-categories","#lb-barrabes-pro-save-categories"),e(document).on("change",".lb-barrabes-title",function t(){e(this).parent().find(".lb-barrabes-subitems li input").prop("checked",this.checked)}),e(document).on("click",".lb-barrabes-toggle",function t(){e(this).parent().children(".lb-barrabes-subitems").slideToggle()})})}(jQuery);